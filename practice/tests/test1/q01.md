# Question 1

A cryptocurrency trading platform is using an API built in AWS Lambda and API Gateway. Due to the recent news and rumors about the upcoming price surge of Bitcoin, Ethereum and other cryptocurrencies, it is expected that the trading platform would have a significant increase in site visitors and new users in the coming days ahead.

In this scenario, how can you protect the backend systems of the platform from traffic spikes?

## Options

A. Use CloudFront in front of the API Gateway to act as a cache.

B. Switch from using AWS Lambda and API Gateway to a more scalable and highly available architecture using EC2 instances, ELB, and Auto Scaling.

C. Move the Lambda function in a VPC.

D. Enable throttling limits and result caching in API Gateway.

## Correct Answer

**D. Enable throttling limits and result caching in API Gateway.**

## Explanation

Amazon API Gateway provides throttling at multiple levels including global and by service call. Throttling limits can be set for standard rates and bursts. For example, API owners can set a rate limit of 1,000 requests per second for a specific method in their REST APIs, and also configure Amazon API Gateway to handle a burst of 2,000 requests per second for a few seconds. Amazon API Gateway tracks the number of requests per second. Any request over the limit will receive a 429 HTTP response. The client SDKs generated by Amazon API Gateway retry calls automatically when met with this response. Hence, enabling throttling limits and result caching in API Gateway is the correct answer.

You can add caching to API calls by provisioning an Amazon API Gateway cache and specifying its size in gigabytes. The cache is provisioned for a specific stage of your APIs. This improves performance and reduces the traffic sent to your back end. Cache settings allow you to control the way the cache key is built and the time-to-live (TTL) of the data stored for each method. Amazon API Gateway also exposes management APIs that help you invalidate the cache for each stage.

### Why other options are incorrect:

- **B. Switch from using AWS Lambda and API Gateway to a more scalable and highly available architecture using EC2 instances, ELB, and Auto Scaling** - There is no need to transfer your applications to other services.

- **A. Using CloudFront in front of the API Gateway to act as a cache** - CloudFront only speeds up content delivery which provides a better latency experience for your users. It does not help much for the backend.

- **C. Moving the Lambda function in a VPC** - This answer is irrelevant to what is being asked. A VPC is your own virtual private cloud where you can launch AWS services.

## References

- https://aws.amazon.com/api-gateway/faqs/
- https://tutorialsdojo.com/amazon-api-gateway/
- https://youtu.be/XwfpPEFHKtQ

## Domain

Design High-Performing Architectures
